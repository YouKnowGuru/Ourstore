<IfModule mod_rewrite.c>
  RewriteEngine On

  # Ensure the application is accessed securely
  # RewriteCond %{HTTPS} off
  # RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

  # Route Requests to the Internal Node.js Port
  # Hostinger automatically assigns a port to the Node.js application.
  # We proxy all traffic to localhost at that port.
  
  # IMPORTANT: Hostinger typically proxies root traffic automatically when a Node App is created,
  # but sometimes static files like _next/static get dropped or intercepted by Apache first.
  
  # Allow Node.js app to handle the routing
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ http://127.0.0.1:3000/$1 [P,L]

  # For static assets explicitly, if the above doesn't catch them
  # RewriteRule ^_next/static/(.*)$ http://127.0.0.1:3000/_next/static/$1 [P,L]
</IfModule>
